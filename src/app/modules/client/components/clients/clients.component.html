<!-- AGENCIES -->
<section class="agencies-section px-2 lg:px-5 pb-7 md:pt-7">
  <!-- SEARCH QUERY -->
  <div class="mt-3">
    <div class="flex justify-content-between flex-wrap">
      <div class="flex align-items-center md:align-items-end gap-1">
        <span class="text-lg font-medium hidden md:block">Results for </span>
        <span class="md:hidden"><i class="pi pi-search x-primary"></i></span>
        <span class="x-black75">
          {{
            textLength(params.service ? params.service : "All Agencies", 20)
          }}</span
        >
      </div>
      <div class="flex align-items-center gap-1">
        @if (params?.location) {
        <i class="x-primary pi pi-map-marker"></i>
        <span class="x-black75">
          {{ textLength(params.location, 15) }}
        </span>
        }
      </div>
    </div>
    <P class="x-black75 mt-1"
      >Find and contact a worker directly with no obligation</P
    >
  </div>

  <!-- AGENCIES COMPONENTS -->
  <div class="grid row-gap-5 mt-5">
    @for (agent of agencies; track $index) {
    <div class="col-12 sm:col-6 md:col-4 lg:col-3 flex justify-content-center">
      <app-agency [agent]="agent" />
    </div>
    }

    <div
      class="flex align-items-center justify-content-center w-full flex-wrap"
    >
      <span class="mx-1 text-color">Items per page: </span>
      <p-dropdown
        [options]="options"
        optionLabel="label"
        optionValue="value"
        [(ngModel)]="items"
        (ngModelChange)="first = 0"
      ></p-dropdown>
      <p-paginator
        [first]="first"
        [rows]="items"
        [totalRecords]="totalRecords"
        (onPageChange)="onPageChange($event)"
        [showCurrentPageReport]="true"
        currentPageReportTemplate="{first} - {last} of {totalRecords}"
        [showPageLinks]="false"
        [showFirstLastIcon]="false"
      ></p-paginator>
    </div>
  </div>
</section>
<hr class="p-0 m-0" style="opacity: 0.2" />
<!-- SIMILAR -->
<section class="similar-section py-7 x-bg-secondary">
  <h1 class="text-2xl text-center">Explore More Similar Services</h1>
  <div class="flex flex-wrap justify-content-center gap-3 pt-5">
    @for (service of similarServices; track $index) {
    <a
      class="shadow-3 border-round-3xl text-lg"
      routerLink="/agencies"
      [queryParams]="{ service: service }"
      >{{ service }}</a
    >
    }
  </div>
</section>
<hr class="p-0 m-0" style="opacity: 0.2" />
<!-- USE APP -->
<section class="app-section px-2 lg:px-5 py-8">
  <div
    class="border-round-xl lg:pl-5 overflow-hidden"
    style="background-color: #5819be"
  >
    <div class="grid grid-nogutter">
      <div class="text-white mt-3 col-12 lg:col-7 p-6">
        <div class="flex align-items-center gap-2" style="height: 2.2rem">
          <div
            class="w-2rem h-full border-round-md"
            style="background-color: var(--s-color)"
          ></div>
          <span class="x-secondary font-semibold text-lg">Use the App</span>
        </div>
        <div class="text-xl sm:text-3xl md:text-5xl mt-3 font-bold">
          Download Our App
        </div>
        <p class="font-semibold text-xl sm:text-2xl md:text-3xl opacity-80">
          Get our app to get access to the following feature
        </p>
        <div
          class="flex flex-column row-gap-3 ml-4 opacity-80 sm:text-lg md:text-xl font-semibold"
        >
          <div class="flex gap-2 align-items-center">
            <i class="pi pi-check-circle text-2xl"></i>
            <span>Direct Messaging worker</span>
          </div>
          <div class="flex gap-2 align-items-center">
            <i class="pi pi-check-circle text-2xl"></i>
            <span>Premium search workers</span>
          </div>
        </div>

        <div class="mt-4 flex gap-3">
          <img
            src="./assets/images/layout/footer/playstore icon.png"
            class="w-full"
            alt="Playstore icon"
          />
          <img
            src="./assets/images/layout/footer/appstore icon.png"
            class="w-full"
            alt="Appstore icon"
          />
        </div>
      </div>
      <div class="hidden lg:block lg:col-5">
        <img
          style="width: 100%; height: 100%; object-fit: cover"
          src="./assets/images/client/home/download app.png"
          alt="download app image"
        />
      </div>
    </div>
  </div>
</section>
<hr class="p-0 m-0" style="opacity: 0.2" />
